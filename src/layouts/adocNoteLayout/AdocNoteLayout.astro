---
import type { ImageMetadata } from 'astro';
import type { Outline } from '@sransara/astro-adocx/utils/outline';

import type { Metadata } from '@/src/lib/types/notes';
import NoteLayout from '@/src/layouts/noteLayout/NoteLayout.astro';
import Asciidoc from '@/src/lib/astro/asciidoc/Asciidoc.astro';

interface Props {
  metadata: Metadata;
  poster: ImageMetadata;
  docattrs: Record<string, string | undefined>;
  outline: Outline;
}

const { metadata, poster, docattrs, outline } = Astro.props;
---

<NoteLayout
  metadata={metadata}
  poster={poster}
  subheading={docattrs.doctitle}
  sourceFile={docattrs['source-file']}
  outline={outline}
>
  <pre>
    {JSON.stringify(docattrs, null, 2)}
  </pre>
  <Asciidoc>
    <slot />
  </Asciidoc>
</NoteLayout>
